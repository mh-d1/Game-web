<!DOCTYPE html>
<html>
<head>
  <title>Sniper Game</title>
  <style>
    body { margin:0; overflow:hidden; background:#222; }
    canvas { display:block; margin:0 auto; }
    #zoomLevel {
      position:absolute;
      top:10px;
      left:10px;
      color:white;
      font-size:20px;
      font-family:Arial;
    }
  </style>
</head>
<body>
<canvas id="game" width="900" height="500"></canvas>
<div id="zoomLevel">Zoom: 1x</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let zoom = 1;
let bots = [];

// Generate bots
for (let i = 0; i < 10; i++) {
    bots.push({
        x: Math.random() * 2000 - 500,
        y: Math.random() * 2000 - 500,
        size: Math.random() * 20 + 10,
        alive: true
    });
}

// Zoom
canvas.addEventListener("wheel", e => {
    zoom += e.deltaY * -0.001;
    if (zoom < 1) zoom = 1;
    if (zoom > 10) zoom = 10;
    document.getElementById("zoomLevel").innerText = "Zoom: " + zoom.toFixed(1) + "x";
});

// Shooting
canvas.addEventListener("click", e => {
    let rect = canvas.getBoundingClientRect();
    let mx = (e.clientX - rect.left) / zoom;
    let my = (e.clientY - rect.top) / zoom;

    bots.forEach(bot => {
        if (bot.alive) {
            let bx = canvas.width/2 + bot.x / (zoom * 1.5);
            let by = canvas.height/2 + bot.y / (zoom * 1.5);
            if (Math.hypot(mx - bx, my - by) < bot.size) {
                bot.alive = false;
            }
        }
    });
});

// Background sore
function drawBackground() {
    // Langit gradasi sore
    let sky = ctx.createLinearGradient(0, 0, 0, canvas.height);
    sky.addColorStop(0, "#ffb37a");     // jingga lembut
    sky.addColorStop(0.5, "#f28a90");   // merah muda
    sky.addColorStop(1, "#6b4fa3");     // ungu senja
    ctx.fillStyle = sky;
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    // Tanah hijau luas
    ctx.fillStyle = "#3b8b3b";
    ctx.fillRect(0, canvas.height * 0.55, canvas.width, canvas.height);

    // Rumput layer lembut
    ctx.fillStyle = "#47a347";
    ctx.fillRect(0, canvas.height * 0.62, canvas.width, canvas.height);
}

// Scope visual
function drawScope() {
    ctx.strokeStyle = "rgba(255,255,255,0.5)";
    ctx.lineWidth = 2;

    ctx.beginPath();
    ctx.arc(canvas.width/2, canvas.height/2, 200, 0, Math.PI * 2);
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(canvas.width/2 - 220, canvas.height/2);
    ctx.lineTo(canvas.width/2 + 220, canvas.height/2);
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(canvas.width/2, canvas.height/2 - 220);
    ctx.lineTo(canvas.width/2, canvas.height/2 + 220);
    ctx.stroke();
}

// Render loop
function render() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    drawBackground();

    ctx.save();
    ctx.scale(zoom, zoom);

    bots.forEach(bot => {
        if (bot.alive) {
            ctx.fillStyle = "red";
            let bx = canvas.width/2 + bot.x / (zoom * 1.5);
            let by = canvas.height/2 + bot.y / (zoom * 1.5);

            ctx.beginPath();
            ctx.arc(bx/zoom, by/zoom, bot.size / zoom, 0, Math.PI * 2);
            ctx.fill();
        }
    });

    ctx.restore();

    drawScope();
    requestAnimationFrame(render);
}

render();
</script>
</body>
</html>
